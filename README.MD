# Cloud Governance Copilot

> Plataforma centralizada que unifica el acceso a 6 SaaS del ecosistema cloud bajo un solo portal, con IA integrada, gestiÃ³n multi-tenant y automatizaciones inteligentes.

[![Version](https://img.shields.io/badge/version-1.2.0-blue.svg)](docs/CHANGELOG.md)
[![License](https://img.shields.io/badge/license-UNLICENSED-red.svg)](LICENSE)
[![Status](https://img.shields.io/badge/status-development-yellow.svg)](docs/DEVELOPMENT.md)

---

## ğŸ¯ Â¿QuÃ© es Cloud Governance Copilot?

Cloud Governance Copilot es un **portal unificado** que centraliza la gestiÃ³n de mÃºltiples herramientas SaaS especializadas en cloud governance. En lugar de alternar entre 6 plataformas diferentes, obtienes:

- ğŸ›ï¸ **Portal Ãšnico:** Accede a todos los SaaS desde un dashboard centralizado
- ğŸ¤– **IA Integrada:** Insights automÃ¡ticos que correlacionan datos entre mÃ³dulos
- ğŸ’° **Pricing Flexible:** Planes que se adaptan desde consultores independientes hasta MSPs enterprise
- ğŸ¢ **Multi-Tenant:** Gestiona mÃºltiples clientes/organizaciones desde una cuenta
- ğŸ›’ **Marketplace:** Extensiones, integraciones y automatizaciones

---

## ğŸ§© Los 6 SaaS del Ecosistema

### 1. OneCloud Dashboard
**Panel unificado multi-cloud**
- KPIs en tiempo real de AWS, Azure y GCP
- Health overview de infraestructura
- Alertas consolidadas
- MÃ©tricas de disponibilidad

### 2. Spend Navigator
**FinOps Platform con IA**
- Forecasting de costos con ML (Prophet, XGBoost)
- DetecciÃ³n de anomalÃ­as de gasto
- Recomendaciones de rightsizing
- AnÃ¡lisis de optimizaciÃ³n

### 3. Security Misconfig Scanner
**Auditor de seguridad automatizado**
- Escaneo de configuraciones inseguras
- Compliance checks (CIS, NIST, PCI-DSS)
- PriorizaciÃ³n de riesgos
- Playbooks de remediaciÃ³n

### 4. Asset 360
**Inventario inteligente de recursos cloud**
- Discovery automÃ¡tico multi-cloud
- ClasificaciÃ³n por IA
- DetecciÃ³n de recursos huÃ©rfanos
- Cost allocation por tags

### 5. Incident IQ
**AutomatizaciÃ³n de respuesta a incidentes**
- Auto-remediation (restart, isolate, scale)
- IntegraciÃ³n con Slack, Teams, Jira
- Workflows personalizables
- Runbooks inteligentes

### 6. Advisor Report
**Reportes ejecutivos automatizados**
- AnÃ¡lisis por IA de infraestructura
- Recomendaciones accionables
- ExportaciÃ³n a PDF/HTML
- Branding personalizable

---

## ğŸš€ Quick Start

### Prerequisites

- **Docker** (v24.0+) y **Docker Compose** (v2.20+)
- **Node.js** (v20 LTS, opcional) para desarrollo fuera de Docker
- **Git** para control de versiones

### Setup - 3 Pasos (5 minutos)

```bash
# 1. Clonar y entrar al directorio
git clone <repository-url>
cd cloud-governance-copilot

# 2. Configurar variables de entorno
cp .env.example .env
# Editar .env si es necesario (opcional para desarrollo)

# 3. Iniciar servicios
docker-compose up -d
```

### Acceder a la AplicaciÃ³n

| Servicio | URL | DescripciÃ³n |
|----------|-----|-------------|
| **Frontend** | http://localhost:3000 | Portal principal |
| **API Gateway** | http://localhost:3010 | Backend Express |
| **Health Check** | http://localhost:3010/health | API status |
| **Redis** | localhost:6379 | Cache/sesiones |
| **PostgreSQL** | Hetzner (externo) | Base de datos |

### Comandos Frecuentes

```bash
# Ver estado
docker-compose ps

# Ver logs (seguimiento)
docker-compose logs -f

# Detener todo
docker-compose down

# Limpiar y reiniciar
docker-compose down -v && docker-compose up -d
```

## ğŸ“š DocumentaciÃ³n

Para informaciÃ³n mÃ¡s detallada, consulta los siguientes documentos:

| Documento | PropÃ³sito |
|-----------|----------|
| **[docs/DEVELOPMENT.md](docs/DEVELOPMENT.md)** | GuÃ­a completa de desarrollo, debugging, troubleshooting |
| **[docs/README.md](docs/README.md)** | Ãndice de toda la documentaciÃ³n disponible |
| **[docs/CHANGELOG.md](docs/CHANGELOG.md)** | Historial de cambios (v1.2.0) |
| **[docs/DEPLOYMENT_GUIDE.md](docs/DEPLOYMENT_GUIDE.md)** | Instrucciones de deployment |
| **[README.MD](README.MD)** | Este archivo (documentaciÃ³n principal) |

## ğŸ— Arquitectura Actual

### Desarrollo
```
Frontend (3000) â”€â”€â”
                  â”œâ”€â”€> API Gateway (3010) <â”€â”€â”¬â”€â”€> Redis (6379)
                  â”‚                         â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€> PostgreSQL (Hetzner)
```

### ProducciÃ³n
```
Users â”€â”€> Caddy (80/443) â”€â”€> Frontend (3000) â”€â”€â”
                                               â”œâ”€â”€> API Gateway (3010) <â”€â”€â”¬â”€â”€> Redis
                                               â”‚                        â”‚
                                               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€> PostgreSQL
```

---

## ğŸ“‹ Comandos Disponibles

### NPM Scripts (RaÃ­z)

```bash
npm run dev              # Iniciar desarrollo con Turbo (frontend + backend)
npm run build            # Compilar para producciÃ³n
npm run test             # Ejecutar todos los tests
npm run lint             # Linters en todo el proyecto
npm run format           # Formatear cÃ³digo (Prettier)

npm run docker:up        # docker-compose up -d
npm run docker:down      # docker-compose down
npm run docker:logs      # docker-compose logs -f
npm run docker:build     # docker-compose build

npm run db:migrate       # Ejecutar migraciones Prisma
npm run db:seed          # Seed con datos de ejemplo
npm run db:studio        # Abrir Prisma Studio GUI
npm run db:backup        # Backup de BD
npm run db:restore       # Restaurar BD desde backup
```

### Docker Compose (Contenedores)

```bash
# Estado y logs
docker-compose ps                          # Ver estado
docker-compose logs -f                     # Todos
docker-compose logs -f api-gateway         # Solo API

# Ejecutar comandos en contenedores
docker-compose exec api-gateway npm run test
docker-compose exec frontend npm run build
docker-compose exec api-gateway npx prisma studio

# Control de servicios
docker-compose restart api-gateway         # Reiniciar API
docker-compose up -d --build               # Rebuild y start
docker-compose down -v                     # Detener y limpiar volÃºmenes
```

---

## ğŸ— Estructura del Proyecto

```
cloud-governance-copilot/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ frontend/                    # Next.js + React
â”‚   â”‚   â”œâ”€â”€ src/app/                # Pages (App Router)
â”‚   â”‚   â”œâ”€â”€ src/components/         # React components
â”‚   â”‚   â”œâ”€â”€ Dockerfile              # ProducciÃ³n
â”‚   â”‚   â”œâ”€â”€ Dockerfile.dev          # Desarrollo (hot reload)
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â””â”€â”€ api-gateway/                # Express + TypeScript
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ routes/             # API endpoints
â”‚       â”‚   â”œâ”€â”€ middleware/         # Auth, RBAC
â”‚       â”‚   â”œâ”€â”€ services/           # Business logic
â”‚       â”‚   â””â”€â”€ index.ts
â”‚       â”œâ”€â”€ prisma/                 # DB schema
â”‚       â”œâ”€â”€ Dockerfile              # ProducciÃ³n
â”‚       â”œâ”€â”€ Dockerfile.dev          # Desarrollo (tsx watch)
â”‚       â””â”€â”€ package.json
â”‚
â”œâ”€â”€ packages/                       # CÃ³digo compartido
â”‚   â”œâ”€â”€ shared-types/
â”‚   â”œâ”€â”€ ui-components/
â”‚   â””â”€â”€ utils/
â”‚
â”œâ”€â”€ docs/                           # TODA la documentaciÃ³n
â”‚   â”œâ”€â”€ README.md                   # Ãndice de docs
â”‚   â”œâ”€â”€ DEVELOPMENT.md              # GuÃ­a de desarrollo
â”‚   â”œâ”€â”€ CHANGELOG.md                # Historial (v1.2.0)
â”‚   â”œâ”€â”€ DEPLOYMENT_GUIDE.md         # Deployments
â”‚   â”œâ”€â”€ architecture/               # Diagramas arquitectura
â”‚   â””â”€â”€ ... (150+ docs adicionales)
â”‚
â”œâ”€â”€ infrastructure/                 # IaC (Terraform)
â”œâ”€â”€ caddy/                         # Reverse proxy config
â”œâ”€â”€ scripts/                       # Utilidades
â”œâ”€â”€ archive/cleanup-2025-12-22/   # Backup de archivos obsoletos
â”‚
â”œâ”€â”€ docker-compose.yml            # Desarrollo (PRINCIPAL)
â”œâ”€â”€ docker-compose.production.yml # ProducciÃ³n
â”œâ”€â”€ docker-compose.test.yml       # Testing
â”œâ”€â”€ docker-compose.old.yml        # Backup versiÃ³n anterior
â”‚
â”œâ”€â”€ .env.example                  # Template de variables
â”œâ”€â”€ package.json                  # Root (versiÃ³n 1.2.0)
â””â”€â”€ README.MD                     # Este archivo (documentaciÃ³n principal)
```

---

## ğŸ›  Stack TecnolÃ³gico

### Frontend
- **Framework:** Next.js 14 (App Router)
- **UI:** React 18 + TypeScript
- **Styling:** Tailwind CSS
- **Components:** Shadcn/ui
- **State:** Zustand + TanStack Query
- **Charts:** Recharts

### Backend
- **API Gateway:** Node.js + Express
- **Workers:** Python (AI workers)
- **Authentication:** JWT + Passport.js + OAuth 2.0
- **Validation:** Zod (Node.js) / Pydantic (Python)

### Database & Cache
- **Primary DB:** PostgreSQL 15+ (multi-tenant)
- **Extensions:** TimescaleDB (time-series), pg_trgm (full-text)
- **Cache:** Redis 7+ (sessions, rate limiting, queue)
- **ORM:** Prisma (Node.js) / SQLAlchemy (Python)

### AI & ML
- **LLM:** OpenAI GPT-4
- **Framework:** LangChain
- **Vector DB:** Pinecone (para RAG - futuro)

### Infrastructure (Hetzner VPS)
- **Provider:** Hetzner Cloud
- **Compute:** Docker + Docker Compose (7+ contenedores)
- **Reverse Proxy:** Nginx (SSL con Let's Encrypt)
- **Storage:** Docker Volumes + Hetzner Object Storage (backups)
- **Monitoring:** Prometheus + Grafana (opcional)
- **Logs:** Docker logs + Loki (opcional)

### DevOps
- **Containers:** Docker + Docker Compose
- **CI/CD:** GitHub Actions
- **Deployment:** SSH + Docker Compose pull/restart
- **Backups:** PostgreSQL dump diario â†’ Hetzner Object Storage
- **SSL:** Certbot automÃ¡tico
- **Testing:** Jest, Playwright, K6

---

## ğŸ¯ Features Principales

### âœ… Fase 1: Foundation (Meses 1-3)
- [x] DocumentaciÃ³n completa (PRD, Planning, Tasks)
- [ ] AutenticaciÃ³n + MFA
- [ ] Multi-tenancy con aislamiento de datos
- [ ] RBAC (5 roles predefinidos)
- [ ] Dashboard base con navegaciÃ³n
- [ ] Conectividad AWS

### ğŸš§ Fase 2: Integration (Meses 4-6)
- [ ] IntegraciÃ³n OneCloud Dashboard
- [ ] IntegraciÃ³n Spend Navigator
- [ ] IntegraciÃ³n Security Misconfig
- [ ] IntegraciÃ³n Asset 360
- [ ] IntegraciÃ³n Incident IQ
- [ ] IntegraciÃ³n Advisor Report
- [ ] Sistema de lÃ­mites por plan

### ğŸ”® Fase 3: AI & Automation (Meses 7-9)
- [ ] AI Insights Engine
- [ ] Cross-module recommendations
- [ ] Automated workflows
- [ ] Predictive analytics
- [ ] Chat assistant (beta)

### ğŸ“¦ Fase 4: Marketplace & Launch (Meses 10-12)
- [ ] Marketplace de add-ons
- [ ] White-label para MSPs
- [ ] Custom branding
- [ ] SSO (SAML 2.0)
- [ ] API pÃºblica
- [ ] Beta Launch
- [ ] GA Launch

---

## ğŸ“Š Planes de SuscripciÃ³n

| Plan | Precio/mes | Tenants | Reportes/mes | Scans/mes | Incidentes/mes |
|------|-----------|---------|--------------|-----------|----------------|
| **Starter** | $49 | 1 | 10 | 50 | 100 |
| **Pro** | $149 | 5 | 50 | 200 | 500 |
| **Business** | $399 | 15 | 200 | 1,000 | 2,000 |
| **Premium** | $999 | 50 | 1,000 | 5,000 | 10,000 |
| **Enterprise** | Custom | Unlimited | Unlimited | Unlimited | Unlimited |

**Todas las funcionalidades incluyen:**
- Acceso a los 6 SaaS
- AI Insights bÃ¡sicos
- Soporte por email
- Integraciones multi-cloud (AWS, Azure, GCP)

**Premium y Enterprise incluyen:**
- White-label
- Custom branding
- SSO (SAML)
- API access
- Soporte prioritario
- Custom workflows

---

## ğŸ” Seguridad

### Implementaciones de Seguridad

- âœ… **Zero Trust Architecture:** ValidaciÃ³n en cada request
- âœ… **Multi-Tenancy Isolation:** Aislamiento estricto de datos
- âœ… **Encryption at Rest:** DynamoDB encryption enabled
- âœ… **Encryption in Transit:** TLS 1.3
- âœ… **JWT Authentication:** Con refresh tokens
- âœ… **MFA:** TOTP + Backup codes
- âœ… **RBAC:** Role-Based Access Control granular
- âœ… **Rate Limiting:** Por IP y por usuario
- âœ… **Audit Logs:** Trazabilidad completa

### Compliance

- **SOC 2 Type II:** Ready
- **GDPR:** Compliant
- **HIPAA:** En roadmap
- **ISO 27001:** En roadmap

### Best Practices

```bash
# Nunca commits secrets
git-secrets --install

# Escaneo de vulnerabilidades
npm audit
snyk test

# Penetration testing
npm run test:security
```

---

## ğŸ“ˆ Roadmap

### 2025 Q1 (Meses 1-3) - Foundation
- [x] Planning completo
- [ ] MVP del portal
- [ ] AutenticaciÃ³n + Multi-tenancy
- [ ] Dashboard base
- [ ] Conectividad AWS

### 2025 Q2 (Meses 4-6) - Integration
- [ ] IntegraciÃ³n de los 6 SaaS
- [ ] Sistema de lÃ­mites
- [ ] Conectividad Azure + GCP
- [ ] Billing con Stripe

### 2025 Q3 (Meses 7-9) - AI & Automation
- [ ] AI Insights Engine
- [ ] Cross-module analytics
- [ ] Automated workflows
- [ ] Chat assistant

### 2025 Q4 (Meses 10-12) - Launch
- [ ] Marketplace
- [ ] White-label
- [ ] API pÃºblica
- [ ] Beta Launch (Mes 11)
- [ ] GA Launch (Mes 12)

### 2026+ - Growth
- [ ] Mobile apps (iOS, Android)
- [ ] Kubernetes cost optimization
- [ ] Advanced AI agents (autonomous actions)
- [ ] Partner ecosystem
- [ ] International expansion

---

## ğŸ§ª Testing

### Ejecutar Tests

```bash
# Todos los tests
make test

# Por tipo
make test-unit           # ~2min
make test-integration    # ~5min
make test-e2e            # ~15min

# Con coverage
make test-coverage       # Genera htmlcov/index.html
```

### Coverage Goals

- **Unit Tests:** >80% de coverage
- **Integration Tests:** Flujos crÃ­ticos completos
- **E2E Tests:** User journeys principales
- **Load Tests:** 50 tenants concurrentes

### Testing Strategy

```
Unit Tests (Jest)
â”œâ”€â”€ Services (business logic)
â”œâ”€â”€ Utilities
â””â”€â”€ Components (React Testing Library)

Integration Tests
â”œâ”€â”€ API endpoints
â”œâ”€â”€ Database operations
â””â”€â”€ External integrations

E2E Tests (Playwright)
â”œâ”€â”€ Onboarding flow
â”œâ”€â”€ Multi-tenant switching
â”œâ”€â”€ SaaS module navigation
â””â”€â”€ Billing upgrade
```

---

## ğŸ“š DocumentaciÃ³n

### Para Usuarios
- **[User Guide](docs/guides/user-guide.md)** - CÃ³mo usar el portal
- **[FAQ](docs/faq.md)** - Preguntas frecuentes
- **[Video Tutorials](docs/tutorials/)** - Tutoriales en video

### Para Desarrolladores
- **[CLAUDE.MD](Context_Docs/CLAUDE.MD)** - GuÃ­a tÃ©cnica completa del proyecto
- **[PLANNING.MD](Context_Docs/PLANNING.MD)** - Planning detallado (24 sprints)
- **[TASK.MD](Context_Docs/TASK.MD)** - Task breakdown y estado actual
- **[API Documentation](http://localhost:4000/docs)** - Swagger UI
- **[Architecture](docs/architecture/)** - Diagramas y decisiones

### Para Product Managers
- **[PRD.MD](Context_Docs/PRD.MD)** - Product Requirements Document
- **[KPIs Dashboard](docs/kpis.md)** - MÃ©tricas del producto
- **[Customer Feedback](docs/feedback/)** - Feedback de usuarios

---

## ğŸ¤ Contributing

Este es un proyecto privado. Para miembros del equipo:

### Workflow

1. **Crear branch desde main:**
   ```bash
   git checkout -b feature/US-123-short-description
   ```

2. **Desarrollar y commitear:**
   ```bash
   git commit -m "feat(auth): add MFA support"
   ```
   Usar [Conventional Commits](https://www.conventionalcommits.org/):
   - `feat:` - Nueva funcionalidad
   - `fix:` - Bug fix
   - `docs:` - DocumentaciÃ³n
   - `refactor:` - Refactoring
   - `test:` - Tests
   - `chore:` - Mantenimiento

3. **Push y crear PR:**
   ```bash
   git push origin feature/US-123-short-description
   ```
   Crear Pull Request con template completo

4. **Code Review:**
   - Requiere 1 aprobaciÃ³n
   - CI debe pasar (tests + linting)
   - No merge conflicts

5. **Merge:**
   - Squash and merge (para mantener historial limpio)
   - Delete branch despuÃ©s de merge

### Code Review Checklist

- [ ] CÃ³digo cumple con style guide
- [ ] Tests incluidos y pasando
- [ ] Sin console.logs o debuggers
- [ ] Sin credenciales hardcodeadas
- [ ] DocumentaciÃ³n actualizada
- [ ] Performance considerado
- [ ] Security considerations aplicadas

---

## ğŸ› Troubleshooting RÃ¡pido

| Problema | SoluciÃ³n |
|----------|----------|
| Contenedores no inician | `docker-compose down -v && docker-compose up -d` |
| Puerto 3010 en uso | `lsof -i:3010` y `kill -9 <PID>` |
| Hot reload no funciona | `docker-compose restart api-gateway` |
| Error PostgreSQL | Verificar DATABASE_URL en `.env` |
| Error Redis | `docker-compose ps redis` (verificar estado) |
| Logs no claros | `docker-compose logs --tail=100 api-gateway` |

**Para mÃ¡s detalles:** Ver [docs/DEVELOPMENT.md](docs/DEVELOPMENT.md#-troubleshooting)

---

## ğŸ“ Soporte

### Para el Equipo

- **Slack:** #copilot-dev
- **Jira:** [Proyecto Copilot](https://yourorg.atlassian.net/browse/COP)
- **Weekly Sync:** Jueves 10:00 AM
- **Tech Lead:** @tech-lead

### Para Usuarios (Post-Launch)

- **Email:** support@cloudcopilot.io
- **Chat:** Widget in-app
- **Documentation:** https://docs.cloudcopilot.io
- **Status Page:** https://status.cloudcopilot.io

---

## ğŸ“ License

MIT License - ver archivo [LICENSE](LICENSE)

---

## ğŸ™ Acknowledgments

**SaaS Modules:**
- OneCloud Dashboard Team
- Spend Navigator Team
- Security Misconfig Team
- Asset 360 Team
- Incident IQ Team
- Advisor Report Team

**Technologies:**
- Next.js por Vercel
- OpenAI por GPT-4
- AWS por infraestructura
- Tailwind CSS por styling

---

## ğŸ“ˆ Estado del Proyecto

**VersiÃ³n Actual:** 0.1.0 (Planning Phase)
**Sprint Actual:** Pre-Sprint 1
**PrÃ³ximo Milestone:** Sprint 6 - MVP Foundation Complete
**Timeline:** 12 meses hasta GA Launch
**Team Size:** 4-6 developers

### Progress Overview

```
Foundation     [â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 0%   (0/6 sprints)
Integration    [â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 0%   (0/6 sprints)
AI & Auto      [â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 0%   (0/6 sprints)
Launch         [â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 0%   (0/6 sprints)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Overall        [â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 0%   (0/24 sprints)
```

**Ãšltima actualizaciÃ³n:** 2025-12-04

---

## ğŸš¦ Quick Links

- ğŸ“‹ [PRD - Product Requirements](Context_Docs/PRD.MD)
- ğŸ“… [Planning - 24 Sprints Roadmap](Context_Docs/PLANNING.MD)
- âœ… [Tasks - Detailed Breakdown](Context_Docs/TASK.MD)
- ğŸ¤– [Claude Guide - Technical Context](Context_Docs/CLAUDE.MD)
- ğŸ—ï¸ [Architecture Diagrams](docs/architecture/)
- ğŸ“Š [API Documentation](http://localhost:4000/docs)

---

**Made with â¤ï¸ by the Cloud Governance Copilot Team**

[â¬† Back to top](#cloud-governance-copilot)
