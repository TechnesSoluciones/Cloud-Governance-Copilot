# ============================================================
# CLOUD GOVERNANCE COPILOT - AZURE-ONLY MODE
# Configuration template for Azure-only deployment
# ============================================================
#
# ESTADO ACTUAL (2025-12-31):
# - Solo Azure activo
# - AWS y GCP temporalmente deshabilitados
# - Para reactivar: ver /docs/REACTIVATION_GUIDE_AWS_GCP.md
#
# INSTRUCCIONES:
# 1. Copiar este archivo a .env
# 2. Configurar valores de Azure
# 3. Comentar/eliminar variables AWS/GCP si existen en .env actual
# ============================================================

# ============================================================
# AZURE CONFIGURATION (ACTIVO)
# ============================================================

# Azure Service Principal Credentials
# Obtener de: Azure Portal > Azure Active Directory > App registrations
AZURE_TENANT_ID=00000000-0000-0000-0000-000000000000
AZURE_CLIENT_ID=00000000-0000-0000-0000-000000000000
AZURE_CLIENT_SECRET=your_azure_client_secret_here
AZURE_SUBSCRIPTION_ID=00000000-0000-0000-0000-000000000000

# Azure Region (opcional, para algunos servicios)
AZURE_REGION=eastus

# ============================================================
# AWS CONFIGURATION (DESHABILITADO TEMPORALMENTE)
# Para reactivar: descomentar y configurar
# ============================================================
# AWS_ACCESS_KEY_ID=your_aws_access_key_here
# AWS_SECRET_ACCESS_KEY=your_aws_secret_key_here
# AWS_REGION=us-east-1
# AWS_SESSION_TOKEN=  # Opcional, para credenciales temporales

# ============================================================
# GCP CONFIGURATION (DESHABILITADO TEMPORALMENTE)
# Para reactivar: descomentar y configurar
# ============================================================
# GCP_PROJECT_ID=your-gcp-project-id
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account-key.json
# GCP_REGION=us-central1

# ============================================================
# FEATURE FLAGS
# ============================================================
ENABLE_AZURE=true
ENABLE_AWS=false
ENABLE_GCP=false

# ============================================================
# DATABASE
# ============================================================
DATABASE_URL="postgresql://user:password@localhost:5432/copilot?schema=public"

# ============================================================
# REDIS / CACHE
# ============================================================
REDIS_URL="redis://localhost:6379"
REDIS_PASSWORD=
REDIS_TLS_ENABLED=false

# ============================================================
# AUTHENTICATION & SECURITY
# ============================================================
JWT_SECRET=your_jwt_secret_here_min_32_chars
JWT_EXPIRATION=24h
JWT_REFRESH_SECRET=your_refresh_secret_here_min_32_chars
JWT_REFRESH_EXPIRATION=7d

# Encryption key for cloud credentials (AES-256-GCM)
# Generate with: openssl rand -hex 32
ENCRYPTION_KEY=your_encryption_key_here_64_hex_chars

# ============================================================
# API CONFIGURATION
# ============================================================
PORT=3010
NODE_ENV=production
API_VERSION=v1
CORS_ORIGIN=http://localhost:3000

# Rate limiting
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100

# ============================================================
# LOGGING
# ============================================================
LOG_LEVEL=info  # error, warn, info, http, verbose, debug, silly
LOG_TO_FILE=true
LOG_FILE_PATH=./logs/app.log

# ============================================================
# MONITORING & OBSERVABILITY
# ============================================================
ENABLE_METRICS=true
METRICS_PORT=9090

# Application Insights (Azure) - Opcional
# APPLICATIONINSIGHTS_CONNECTION_STRING=InstrumentationKey=...

# ============================================================
# AI / OPENAI
# ============================================================
OPENAI_API_KEY=sk-...
OPENAI_ORG_ID=org-...
OPENAI_MODEL=gpt-4

# ============================================================
# EMAIL / NOTIFICATIONS
# ============================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_email@example.com
SMTP_PASSWORD=your_smtp_password

# ============================================================
# STRIPE (BILLING)
# ============================================================
STRIPE_SECRET_KEY=sk_test_...
STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# ============================================================
# JOBS / WORKERS
# ============================================================
ENABLE_CRON_JOBS=true

# Cost collection schedule (cron format)
COST_COLLECTION_SCHEDULE="0 */6 * * *"  # Every 6 hours

# Asset discovery schedule
ASSET_DISCOVERY_SCHEDULE="0 0 * * *"  # Daily at midnight

# Security scan schedule
SECURITY_SCAN_SCHEDULE="0 2 * * *"  # Daily at 2 AM

# ============================================================
# DEPLOYMENT
# ============================================================
DEPLOYMENT_ENV=production
BUILD_VERSION=1.0.0

# ============================================================
# NOTAS IMPORTANTES
# ============================================================
#
# 1. SEGURIDAD:
#    - NUNCA commitear este archivo con valores reales a git
#    - Usar secretos de Azure Key Vault en producción
#    - Rotar credenciales regularmente
#
# 2. AZURE PERMISSIONS REQUERIDOS:
#    - Cost Management Reader
#    - Reader (en suscripción)
#    - Resource Graph Reader
#    - Security Reader
#    - Policy Reader
#
# 3. REACTIVACIÓN DE AWS/GCP:
#    - Ver /docs/REACTIVATION_GUIDE_AWS_GCP.md
#    - Cambiar ENABLE_AWS=true / ENABLE_GCP=true
#    - Descomentar variables correspondientes
#    - Reinstalar dependencias AWS/GCP SDKs
#
# 4. SOPORTE:
#    - Para issues: ver documentación en /docs
#    - Para questions arquitectónicas: revisar plan en /docs
#
# ============================================================

# END OF CONFIGURATION
